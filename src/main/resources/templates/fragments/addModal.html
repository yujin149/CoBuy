<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="addModal">
    <!-- CSRF 토큰을 hidden input으로 추가 -->
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" id="csrf-token"/>
    <input type="hidden" name="_csrf_header" th:value="${_csrf.headerName}" id="csrf-header"/>

    <!-- 현재 로그인한 사용자 정보를 hidden input으로 저장 -->
    <input type="hidden" id="currentUserId"
           th:with="principal=${#authentication.principal}"
           th:value="${principal.username}">
    <input type="hidden" id="currentUserRole"
           th:with="principal=${#authentication.principal}"
           th:value="${principal.role}">

    <!--쇼핑몰 모달-->
    <div class="modal addModal addAdminModal">
        <div class="modalInner">
            <div class="modalTitle">
                <p class="tit">쇼핑몰 추가</p>
                <a href="javascript:void(0)" class="closeBtn">닫기</a>
            </div>
            <div class="modalCont">
                <div class="searchWrap">
                    <form id="adminSearchForm" onsubmit="return false;">
                        <select name="searchType" id="adminSearchType">
                            <option value="전체">전체</option>
                            <option value="쇼핑몰명">쇼핑몰명</option>
                            <option value="아이디">아이디</option>
                        </select>
                        <div class="searchBox">
                            <input type="text" id="adminSearchInput" placeholder="검색어를 입력해주세요.">
                            <button type="button" onclick="searchAdmins()">검색</button>
                        </div>
                    </form>
                </div>

                <div class="tableWrap">
                    <table>
                        <colgroup>
                            <col style = "width:45px">
                            <col style = "width:220px">
                            <col style = "width:100%">
                        </colgroup>
                        <thead>
                        <tr>
                            <th><div class="chkBox"><input type="checkbox" class="allChk"></div></th>
                            <th>쇼핑몰명</th>
                            <th>홈페이지 주소</th>
                        </tr>
                        </thead>
                        <tbody id="adminSearchResults">
                        <!-- 검색 결과가 여기에 동적으로 추가됨 -->
                        </tbody>
                    </table>
                </div>

            </div>
            <div class="modalBtn">
                <a href="javascript:void(0)" class="addBtn lineBtn">요청하기</a>
                <a href="javascript:void(0)" class="closeBtn btn">닫기</a>
            </div>
        </div>
        <div class="bgB"></div>
    </div>

    <!--인플루언서 모달-->
    <div class="modal addModal addSellerModal">
        <div class="modalInner">
            <div class="modalTitle">
                <p class="tit">인플루언서 추가</p>
                <a href="javascript:void(0)" class="closeBtn">닫기</a>
            </div>
            <div class="modalCont">
                <div class="searchWrap">
                    <form id="sellerSearchForm" onsubmit="return false;">
                        <select name="searchType" id="sellerSearchType">
                            <option value="전체">전체</option>
                            <option value="인플루언서명">인플루언서명</option>
                            <option value="아이디">아이디</option>
                        </select>
                        <div class="searchBox">
                            <input type="text" id="sellerSearchInput" placeholder="검색어를 입력해주세요.">
                            <button type="button" onclick="searchSellers()">검색</button>
                        </div>
                    </form>
                </div>

                <div class="tableWrap">
                    <table>
                        <colgroup>
                            <col style = "width:45px">
                            <col style = "width:220px">
                            <col style = "width:100%">
                        </colgroup>
                        <thead>
                        <tr>
                            <th><div class="chkBox"><input type="checkbox" class="allChk"></div></th>
                            <th>인플루언서명</th>
                            <th>홈페이지 주소</th>
                        </tr>
                        </thead>
                        <tbody id="sellerSearchResults">
                        <!-- 검색 결과가 여기에 동적으로 추가됨 -->
                        <tr>
                            <td colspan="3"><p class="none">검색 결과가 없습니다.</p></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="modalBtn">
                <a href="javascript:void(0)" class="addBtn lineBtn">요청하기</a>
                <a href="javascript:void(0)" class="closeBtn btn">닫기</a>
            </div>
        </div>
        <div class="bgB"></div>
    </div>

</div>
</body>
</html>